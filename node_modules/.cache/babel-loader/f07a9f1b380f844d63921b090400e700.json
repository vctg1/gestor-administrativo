{"ast":null,"code":"var _jsxFileName = \"/home/victorgm1/Documents/cened/gestor-administrativo/src/pages/user-list/add-new-user.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Card, Grid, FormControl, Collapse, Alert } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport RegForm1 from \"./RegForm1\";\nimport RegForm2 from \"./RegForm2\";\nimport RegForm3 from \"./RegForm3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddNewUser = () => {\n  _s();\n\n  let api = process.env.REACT_APP_API_KEY;\n  let [penitenciaria, setPenitenciaria] = useState([]);\n  let [alert, setAlert] = useState(false),\n      [alertTxt, setAlertTxt] = useState(\"\"),\n      [data, setData] = useState({\n    nome: \"\",\n    sexo: \"\",\n    cpf: \"\",\n    rg: \"\",\n    orgaoExpedidor: \"\",\n    dataNascimento: \"\",\n    naturalidade: \"\",\n    ufNaturalidade: \"\",\n    nacionalidade: \"\",\n    endereco: \"\",\n    bairro: \"\",\n    cidade: \"\",\n    ufResidencial: \"\",\n    cep: \"\",\n    celular: \"\",\n    foneResidencial: \"\",\n    foneComercial: \"\",\n    email: \"\",\n    nomePreposto: \"\",\n    vinculo: \"\",\n    sexoPreposto: \"\",\n    cpfPreposto: \"\",\n    rgPreposto: \"\",\n    orgaoExpedidorPreposto: \"\",\n    grauInstrucao: \"\",\n    atuacaoHabilitacao: \"\",\n    profissao: \"\",\n    bloco: \"\",\n    ala: \"\",\n    cela: \"\",\n    condicaoPreso: \"\",\n    regime: \"\",\n    infopen: \"\",\n    mae: \"\",\n    pai: \"\",\n    penitenciaria: {\n      idPenitenciaria: \"\",\n      uf: \"\"\n    }\n  });\n  let [generalClauses, setGeneralClauses] = useState(false),\n      keysPenitenciaria = Object.keys(data.penitenciaria),\n      keysAluno = Object.keys(data),\n      valueElements = [...keysAluno, ...keysPenitenciaria];\n  let [listElements, setListElements] = useState({});\n  let emptyElements = [];\n  useEffect(() => {\n    setListElements(Object.assign(data));\n  }, []);\n  valueElements.forEach(vl => {\n    if (data[vl] === \"\" || data.penitenciaria[vl] === \"\") {\n      emptyElements.push(vl.replace(/([A-Z])/g, \" $1\").replace('id Pen', 'pen').replace('condicao Preso', 'condicao'));\n    }\n  });\n\n  function clearElements() {\n    valueElements.forEach(vl => {\n      setData(listElements);\n    });\n  }\n\n  function Submit() {\n    let confirmarSenha = data.senha === data.confirmarSenha;\n\n    if (confirmarSenha && !emptyElements.length > 0 && generalClauses) {\n      //setData((data)=>({...data, penitenciaria:{res.data}}))\n      //axios.post(`${apialunos`,data)\n      window.location.href = `login`;\n      setTimeout(function () {\n        alert(\"Registrado com sucesso!\");\n      }, 200);\n    }\n\n    if (emptyElements.length > 0) {\n      setAlert(true);\n      setAlertTxt(`Itens incompletos: ${emptyElements}`);\n    }\n\n    if (!confirmarSenha && !emptyElements.length > 0) {\n      setAlert(true);\n      setAlertTxt(\"As senhas não coincidem!\");\n    }\n\n    if (!emptyElements.length > 0 && !generalClauses) {\n      setAlert(true);\n      setAlertTxt(\"Você deve aceitar as cláusulas gerais para continuar\");\n    }\n  }\n\n  useEffect(() => {\n    axios.get(`${api}penitenciarias?Limit=400`).then(res => {\n      setPenitenciaria([]);\n      let dataPenitenciaria = res.data.data;\n      dataPenitenciaria.forEach(item => {\n        if (data.penitenciaria.uf === item.uf) {\n          setPenitenciaria(data => [...data, item]);\n        }\n      });\n    });\n  }, [data.penitenciaria]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    pt: 2,\n    pb: 4,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 8,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            padding: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(RegForm1, {\n                data: data,\n                setData: setData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RegForm2, {\n                data: data,\n                setData: setData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RegForm3, {\n                data: data,\n                setData: setData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"contained\",\n                  children: \"Create User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddNewUser, \"lW0Y3SyBk+h2LombDlQAhWk/+Po=\");\n\n_c = AddNewUser;\nexport default AddNewUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewUser\");","map":{"version":3,"names":["Box","Button","Card","Grid","FormControl","Collapse","Alert","React","useEffect","useState","axios","RegForm1","RegForm2","RegForm3","AddNewUser","api","process","env","REACT_APP_API_KEY","penitenciaria","setPenitenciaria","alert","setAlert","alertTxt","setAlertTxt","data","setData","nome","sexo","cpf","rg","orgaoExpedidor","dataNascimento","naturalidade","ufNaturalidade","nacionalidade","endereco","bairro","cidade","ufResidencial","cep","celular","foneResidencial","foneComercial","email","nomePreposto","vinculo","sexoPreposto","cpfPreposto","rgPreposto","orgaoExpedidorPreposto","grauInstrucao","atuacaoHabilitacao","profissao","bloco","ala","cela","condicaoPreso","regime","infopen","mae","pai","idPenitenciaria","uf","generalClauses","setGeneralClauses","keysPenitenciaria","Object","keys","keysAluno","valueElements","listElements","setListElements","emptyElements","assign","forEach","vl","push","replace","clearElements","Submit","confirmarSenha","senha","length","window","location","href","setTimeout","get","then","res","dataPenitenciaria","item","padding"],"sources":["/home/victorgm1/Documents/cened/gestor-administrativo/src/pages/user-list/add-new-user.jsx"],"sourcesContent":["import {\n  Box,\n  Button,\n  Card,\n  Grid,\n  FormControl, Collapse, Alert\n} from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport RegForm1 from \"./RegForm1\";\nimport RegForm2 from \"./RegForm2\";\nimport RegForm3 from \"./RegForm3\";\n\n\nconst AddNewUser = () => {\n  let api = process.env.REACT_APP_API_KEY;\n  let [penitenciaria, setPenitenciaria] = useState([]);\n  let [alert, setAlert] = useState(false),\n  [alertTxt, setAlertTxt] = useState(\"\"),\n    [data, setData] = useState({\n        nome: \"\",sexo: \"\",cpf: \"\",rg: \"\",orgaoExpedidor: \"\",dataNascimento: \"\",\n        naturalidade: \"\",ufNaturalidade: \"\",nacionalidade: \"\",endereco: \"\",\n        bairro: \"\",cidade: \"\",ufResidencial: \"\",cep: \"\",\n        celular: \"\",foneResidencial: \"\",foneComercial: \"\",email: \"\",\n        nomePreposto: \"\",vinculo: \"\",sexoPreposto: \"\",cpfPreposto: \"\",\n        rgPreposto: \"\",orgaoExpedidorPreposto: \"\",grauInstrucao: \"\",atuacaoHabilitacao: \"\",\n        profissao: \"\",bloco: \"\",ala: \"\",cela: \"\",condicaoPreso: \"\",\n        regime: \"\",infopen: \"\",mae: \"\",pai: \"\",\n      penitenciaria: { idPenitenciaria: \"\", uf: \"\" }\n    });\n\n  let [generalClauses, setGeneralClauses] = useState(false),\n    keysPenitenciaria = Object.keys(data.penitenciaria),\n    keysAluno = Object.keys(data),\n    valueElements = [...keysAluno,...keysPenitenciaria];\n  let [listElements, setListElements] = useState({});\n  let emptyElements = [];\n  useEffect(() => {\n    setListElements(Object.assign(data));\n  }, []);\n  valueElements.forEach((vl) => {\n    if (data[vl] === \"\" || data.penitenciaria[vl] === \"\") {\n      emptyElements.push(vl.replace(/([A-Z])/g, \" $1\").replace('id Pen','pen').replace('condicao Preso','condicao'));\n    }\n  });\n  function clearElements() {\n    valueElements.forEach((vl) => {\n      setData(listElements);\n    });\n  }\n\n  function Submit() {\n    let confirmarSenha = data.senha === data.confirmarSenha;\n    if (confirmarSenha && !emptyElements.length > 0 && generalClauses) {\n      //setData((data)=>({...data, penitenciaria:{res.data}}))\n      //axios.post(`${apialunos`,data)\n      window.location.href = `login`;\n      setTimeout(function () {\n        alert(\"Registrado com sucesso!\");\n      }, 200);\n    }\n    if (emptyElements.length > 0) {\n      setAlert(true);\n      setAlertTxt(`Itens incompletos: ${emptyElements}`);\n    }\n    if (!confirmarSenha && !emptyElements.length > 0) {\n      setAlert(true);\n      setAlertTxt(\"As senhas não coincidem!\");\n    }\n    if (!emptyElements.length > 0 && !generalClauses) {\n      setAlert(true);\n      setAlertTxt(\"Você deve aceitar as cláusulas gerais para continuar\");\n    }\n  }\n  useEffect(()=>{\n    axios.get(`${api}penitenciarias?Limit=400`).then(res=>{\n      setPenitenciaria([]);\n      let dataPenitenciaria = res.data.data;\n      dataPenitenciaria.forEach((item)=>{\n      if(data.penitenciaria.uf===item.uf){\n        setPenitenciaria((data)=>[...data,item])\n      }\n    })\n    })\n  },[data.penitenciaria])\n  return (\n    <Box pt={2} pb={4}>\n      <Grid container spacing={3}>\n        <Grid item md={8} xs={12}>\n          <Card\n            sx={{\n              padding: 3,\n            }}\n          >\n            <form >\n              <Grid container spacing={3}>\n                <RegForm1 data={data} setData={setData}/>\n                <RegForm2 data={data} setData={setData}/>\n                <RegForm3 data={data} setData={setData}/>\n                <Grid item xs={12}>\n                  <Button type=\"submit\" variant=\"contained\">\n                    Create User\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Card>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default AddNewUser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}